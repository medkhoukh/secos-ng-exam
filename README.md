Voici un résumé de la solution mise en œuvre pour atteindre l'objectif du tp exam: 

Pour réaliser un système multitâche préemptif avec isolation mémoire, nous avons d'abord modifié le script d'édition de liens (linker.lds) afin de placer le code utilisateur dans une section dédiée .user alignée sur une adresse physique connue (8MB). Côté noyau (tp.c), nous avons activé la pagination en configurant le registre CR0, avec un identity mapping pour le code noyau/utilisateur afin d'assurer leur exécution, et un mapping spécifique pour la mémoire partagée : une unique page physique est allouée mais mappée à deux adresses virtuelles distinctes (0x40000000 pour T1 et 0x80000000 pour T2), permettant la communication.

L'ordonnancement est géré par l'interruption horloge (IRQ0/0x20). Le gestionnaire (irq0_isr et schedule) sauvegarde le contexte de la tâche en cours, sélectionne la suivante, change d'espace d'adressage via le registre CR3 (garantissant l'isolation), et met à jour la pile noyau dans le TSS pour gérer les futures interruptions. Enfin, un appel système sur l'interruption 0x80 a été implémenté : il permet à la tâche 2 de demander au noyau d'afficher la valeur du compteur incrémenté par la tâche 1, validant ainsi le fonctionnement simultané des tâches, la communication inter-processus et la protection mémoire.
